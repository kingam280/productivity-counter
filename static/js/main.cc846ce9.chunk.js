(this["webpackJsonpproductivity-counter"]=this["webpackJsonpproductivity-counter"]||[]).push([[0],{35:function(e,t,n){},36:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(27),r=n.n(s),i=(n(35),n(8)),u=n(11),o=n(2),l=(n(36),n(0));function j(){return Object(l.jsxs)("nav",{className:"menu",children:[Object(l.jsx)(u.b,{to:"/timer",className:"menu-item",children:"Timer"}),Object(l.jsx)(u.b,{to:"/stats",className:"menu-item",children:"Stats"}),Object(l.jsx)(u.b,{to:"/settings",className:"menu-item",children:"Settings"})]})}n(43);function d(){return Object(l.jsx)("div",{className:"footer",children:"Created by Kinga Mamak"})}var b=n(10),m=(n(44),n(29)),f=n.n(m).a.create({baseURL:"https://productivity-counter-f8fed-default-rtdb.europe-west1.firebasedatabase.app/"});var h=function(e){var t;return"click-sound"===e?t="http://www.astrofegia.com/Music/Wav/Utopia%20Close.wav":"tink-sound"===e?t="http://princezze.free.fr/sounds/select6.wav":"birds-sound"===e?t="http://rus.gflora.com/page/Misc/birds/songsparrow.wav":"alarm-sound"===e&&(t="http://david.guerrero.free.fr/Effects/WeaponHoming.wav"),t};function O(e){var t=e.startTime,n=e.alarmSound,a=Object(c.useState)(!1),s=Object(i.a)(a,2),r=s[0],u=s[1],o=Object(c.useState)(t),j=Object(i.a)(o,2),d=j[0],m=j[1],O=Object(c.useState)(0),x=Object(i.a)(O,2),p=x[0],v=x[1],g=Object(c.useState)({time:1e3*t*60,timeLeft:1e3*t*60,startDate:Date.now()}),S=Object(i.a)(g,2),w=S[0],N=S[1],y=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e=null;return r&&w.timeLeft>=1e3?e=setTimeout((function(){N((function(e){return Object(b.a)(Object(b.a)({},e),{},{timeLeft:e.timeLeft-(Date.now()-e.startDate),startDate:Date.now()})}))}),100):r?r&&w.timeLeft<1e3&&(e=setTimeout((function(){u((function(e){return!e})),N((function(e){return Object(b.a)(Object(b.a)({},e),{},{timeLeft:1e3*t*60})})),function(e,t){var n={label:t||"no label",timeInMinutes:e,timestamp:Date.now()};f.post("records.json",n).then(console.log("Successfully added to database")).catch((function(e){return console.log(e)}))}(t,y.current.value),y.current.value=null,new Audio(h(n)).play()}),100)):e=setTimeout((function(){N((function(e){return Object(b.a)(Object(b.a)({},e),{},{startDate:Date.now()})}))}),1e3),m(Math.floor(w.timeLeft/1e3/60%60)),v(Math.floor(w.timeLeft/1e3%60)),function(){return clearInterval(e)}}),[r,w,n,t]),Object(l.jsxs)("div",{className:"timer-container container",children:[Object(l.jsx)("h2",{children:"Timer"}),Object(l.jsx)("input",{id:"label-input",ref:y,type:"text",placeholder:"Add label"}),Object(l.jsxs)("div",{className:"timer",style:r?{animationPlayState:"running"}:{animationPlayState:"paused"},children:[Object(l.jsxs)("p",{className:"timer-time",children:[d,":",p>9?p:"0"+p]}),Object(l.jsx)("p",{className:"timer-type",children:"FOCUS"})]}),Object(l.jsx)("i",{onClick:function(){u((function(e){return!e})),y.current.focus()},className:r?"timer-start far fa-pause-circle":"timer-start far fa-play-circle"})]})}var x=function(e){var t=e.timestamp,n=e.label,c=e.timeInMinutes,a=new Date(t),s=a.getDate()<10?"0"+a.getDate():a.getDate(),r=a.getMonth()<10?"0"+a.getMonth():a.getMonth(),i=a.getFullYear();return Object(l.jsxs)("tr",{children:[Object(l.jsxs)("td",{children:[s,"/",r,"/",i]}),Object(l.jsx)("td",{children:n}),Object(l.jsxs)("td",{children:[c," min"]})]})},p=(n(63),n.p+"static/media/loading-spinner.2b3e1008.gif"),v=function(){return Object(l.jsx)("div",{className:"loading",children:Object(l.jsx)("img",{className:"loading-spinner",alt:"loading-spinner",src:p})})},g=(n(64),n(17)),S=n.n(g),w=n(30),N=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],s=function(){var e=Object(w.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get("/records.json").then((function(e){return e.data})).then((function(e){var t=function(t){a((function(n){return Array(e[t]).concat(n)}))};for(var n in e)t(n)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){s()}),[]),n};function y(){var e=N();return Object(l.jsxs)("div",{className:"stats container",children:[Object(l.jsx)("h2",{children:"Statistics"}),e.length>0?Object(l.jsxs)("table",{children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Date"}),Object(l.jsx)("th",{children:"Label"}),Object(l.jsx)("th",{children:"Time"})]})}),Object(l.jsx)("tbody",{children:e.map((function(e){return Object(l.jsx)(x,{timestamp:e.timestamp,label:e.label,timeInMinutes:e.timeInMinutes},e.timestamp)}))})]}):Object(l.jsx)(v,{})]})}var D=function(e){var t=e.handleFocusTimeChange,n=e.focus,a=Object(c.useRef)(n);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h3",{children:"Focus time"}),Object(l.jsxs)("div",{className:"slider-container",children:[Object(l.jsx)("input",{className:"slider-input",type:"range",id:"focus",min:"5",max:"60",step:"5",ref:a,value:n,onChange:function(){return t(a.current.value)}}),Object(l.jsx)("p",{className:"slider-label",children:"5min"}),Object(l.jsx)("p",{className:"slider-label",children:"60min"})]})]})},T=function(e){var t=e.setAlarmSound,n=e.alarmSound;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h3",{children:"Alarm sound"}),Object(l.jsxs)("select",{name:"sound",id:"sound",onChange:function(e){var n=e.target.value,c=h(n),a=new Audio(c);t(n),a.play()},value:n,children:[Object(l.jsx)("option",{value:"alarm-sound",children:"Alarm"}),Object(l.jsx)("option",{value:"birds-sound",children:"Birds"}),Object(l.jsx)("option",{value:"click-sound",children:"Click"}),Object(l.jsx)("option",{value:"tink-sound",children:"Tink"})]})]})};n(66);function M(e){var t=e.handleFocusTimeChange,n=e.focus,c=e.setAlarmSound,a=e.alarmSound;return Object(l.jsxs)("div",{className:"settings container",children:[Object(l.jsx)("h2",{children:"Settings"}),Object(l.jsx)(D,{handleFocusTimeChange:t,focus:n}),Object(l.jsx)(T,{setAlarmSound:c,alarmSound:a})]})}function k(){return Object(l.jsx)("div",{class:"container",children:"Not Found"})}n(67);var C=function(){var e=Object(c.useState)(50),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)("alarm-sound"),r=Object(i.a)(s,2),b=r[0],m=r[1];return Object(l.jsx)(u.a,{children:Object(l.jsxs)("div",{className:"app",children:[Object(l.jsx)(j,{}),Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{exact:!0,path:"/",children:Object(l.jsx)(O,{startTime:n,sound:b})}),Object(l.jsx)(o.a,{path:"/timer",children:Object(l.jsx)(O,{startTime:n,alarmSound:b})}),Object(l.jsx)(o.a,{path:"/stats",children:Object(l.jsx)(y,{})}),Object(l.jsx)(o.a,{path:"/settings",children:Object(l.jsx)(M,{handleFocusTimeChange:a,focus:n,setAlarmSound:m,alarmSound:b})}),Object(l.jsx)(o.a,{children:Object(l.jsx)(k,{})})]}),Object(l.jsx)(d,{})]})})};r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(C,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.cc846ce9.chunk.js.map